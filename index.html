<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hack The Box Quiz</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/js/all.min.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
</head>

<body class="bg-gray-100 flex flex-col min-h-screen relative">

    <!-- Navbar -->
    <nav class="bg-blue-600 text-white p-4">
        <div class="container mx-auto flex justify-between items-center">
            <div class="text-lg font-bold"><a href="index.html">Hack The Box</a></div>
            <div class="flex space-x-4">
                <a href="tool.html" class="px-4 py-2 hover:bg-blue-700 rounded transition duration-200">Tool</a>
                <a href="https://www.ordusion.tech/about" class="px-4 py-2 hover:bg-blue-700 rounded transition duration-200">About</a>
            </div>
        </div>
    </nav>

    <!-- Main Quiz Container -->
    <div class="flex-grow flex items-center justify-center p-6 relative">
        <div class="w-full max-w-xl bg-white p-8 rounded-lg shadow-lg">
            <h1 class="text-3xl font-bold mb-6 text-center text-blue-600">Round 1</h1>
            <div id="question-container" class="mb-4">
                <p id="question-number" class="text-lg font-semibold mb-2"></p>
                <p id="question" class="text-lg font-semibold"></p>
            </div>
            <div class="mb-4">
                <input type="text" id="answer-input" class="w-full p-2 border border-blue-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Type your answer here">
            </div>
            <button id="submit-button" class="w-full bg-blue-500 text-white p-2 rounded-lg mb-4 hover:bg-blue-600">Submit Answer</button>
            <div id="keyword-container" class="mt-4 text-center hidden animate__animated">
                <p class="text-lg font-bold">Keyword:</p>
                <div class="flex justify-center items-center space-x-4">
                    <p id="keyword" class="text-2xl font-semibold text-green-500"></p>
                    <button id="copy-button" class="bg-green-500 text-white p-2 rounded-lg hover:bg-green-600">Copy</button>
                </div>
            </div>
            <div class="mt-4 flex flex-wrap justify-center" id="navigation-buttons">
                <!-- Navigation buttons will be dynamically inserted here -->
            </div>
        </div>
        <div id="timer" class="absolute top-4 right-4 bg-red-100 text-red-600 font-bold p-4 rounded-lg shadow-lg">
            05:00
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-4 w-full text-center mt-auto">
        All rights reserved to <a href="https://www.tinobritty.tech" target="_blank" rel="noopener noreferrer">Tino Britty</a>
    </footer>

    <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="brittytino" data-description="Support me on Buy me a coffee!" data-message="" data-color="#5F7FFF" data-position="Right" data-x_margin="18" data-y_margin="18"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const questions = [
                {
                    question: "What kind of database system uses tables to organize data?",
                    answers: ["Relational Database", "SQL Database", "RDBMS"],
                    keyword: "QC-001"
                },
                {
                    question: "Which concept involves securing the boundaries of a network to protect data and resources?",
                    answers: ["Network Security", "Cybersecurity", "Network Protection"],
                    keyword: "BC-002"
                },
                {
                    question: "What is the term for a unique identifier for a node in a network?",
                    answers: ["MAC Address", "Physical Address", "Hardware Address"],
                    keyword: "NN-003"
                },
                {
                    question: "What is the name of the algorithm used for sorting that divides the array into smaller sub-arrays?",
                    answers: ["MergeSort", "Merge Sort", "Mergesort"],
                    keyword: "AL-004"
                },
                {
                    question: "Which network topology has all nodes connected to a central hub?",
                    answers: ["Star", "Star Topology", "Hub-and-Spoke"],
                    keyword: "ML-005"
                },
                {
                    question: "What type of malware disguises itself as legitimate software?",
                    answers: ["Trojan", "Trojan Horse", "Trojan Virus"],
                    keyword: "CAR-006"
                },
                {
                    question: "Which programming language is known for its use in statistical computing and graphics?",
                    answers: ["R", "R Language", "R Programming"],
                    keyword: "TREE-007"
                },
                {
                    question: "What is the process of finding errors and fixing them in software called?",
                    answers: ["Debugging", "Bug Fixing", "Troubleshooting"],
                    keyword: "GH-008"
                },
                {
                    question: "Which algorithm is used to find the shortest path in a graph?",
                    answers: ["Dijkstra", "Dijkstra's Algorithm", "Shortest Path Algorithm"],
                    keyword: "BIKE-009"
                },
                {
                    question: "What data structure uses the LIFO principle?",
                    answers: ["Stack", "LIFO Stack", "Last In First Out"],
                    keyword: "CS-010"
                },
                {
                    question: "What is the primary language used for developing Android apps?",
                    answers: ["Java", "Kotlin", "Android Java"],
                    keyword: "IoT-011"
                },
                {
                    question: "What protocol is used to securely transfer hypertext on the web?",
                    answers: ["HTTPS", "HTTP Secure", "Secure HTTP"],
                    keyword: "AI-012"
                },
                {
                    question: "What is the technique called that improves the performance of a system by dividing tasks among multiple processors?",
                    answers: ["Parallel Processing", "Parallel Computing", "Multithreading"],
                    keyword: "PY-013"
                },
                {
                    question: "What term describes a function that calls itself?",
                    answers: ["Recursive Function", "Recursion", "Self-Calling Function"],
                    keyword: "CB-014"
                },
                {
                    question: "What is the term for the simultaneous execution of multiple tasks in a single CPU?",
                    answers: ["Concurrent Execution", "Concurrency", "Multitasking"],
                    keyword: "VR-015"
                }
            ];

            let currentQuestionIndex = 0;
            let attempts = 0;
            const maxAttempts = 3;
            let timerInterval;

            const questionNumberElement = document.getElementById('question-number');
            const questionElement = document.getElementById('question');
            const answerInput = document.getElementById('answer-input');
            const submitButton = document.getElementById('submit-button');
            const keywordContainer = document.getElementById('keyword-container');
            const keywordElement = document.getElementById('keyword');
            const navigationButtonsContainer = document.getElementById('navigation-buttons');
            const copyButton = document.getElementById('copy-button');
            const timerElement = document.getElementById('timer');

            function showQuestion(index) {
                currentQuestionIndex = index;
                attempts = 0;
                questionNumberElement.textContent = `Question ${index + 1}`;
                questionElement.textContent = questions[index].question;
                answerInput.value = '';
                answerInput.focus();
                keywordContainer.classList.add('hidden');
                keywordContainer.classList.remove('animate__fadeInDown');
            }

            function copyToClipboard(text) {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
            }

            function startTimer(duration) {
                let timer = duration, minutes, seconds;
                timerInterval = setInterval(function () {
                    minutes = parseInt(timer / 60, 10);
                    seconds = parseInt(timer % 60, 10);

                    minutes = minutes < 10 ? "0" + minutes : minutes;
                    seconds = seconds < 10 ? "0" + seconds : seconds;

                    timerElement.textContent = minutes + ":" + seconds;

                    if (--timer < 0) {
                        clearInterval(timerInterval);
                        blockPage();
                    }
                }, 1000);
            }

            function blockPage() {
                Swal.fire({
                    icon: 'error',
                    title: 'Time Up!',
                    text: 'You have run out of time. Please try again.',
                    showClass: {
                        popup: 'animate__animated animate__shakeX'
                    },
                    hideClass: {
                        popup: 'animate__animated animate__fadeOut'
                    },
                    allowOutsideClick: false,
                    allowEscapeKey: false,
                    allowEnterKey: false,
                    confirmButtonText: 'Reload',
                    preConfirm: () => {
                        window.location.reload();
                    }
                });
            }

            submitButton.addEventListener('click', () => {
                const userAnswer = answerInput.value.trim().toLowerCase();
                const correctAnswers = questions[currentQuestionIndex].answers.map(answer => answer.toLowerCase());
                if (correctAnswers.includes(userAnswer)) {
                    clearInterval(timerInterval);
                    keywordElement.textContent = questions[currentQuestionIndex].keyword;
                    keywordContainer.classList.remove('hidden');
                    keywordContainer.classList.add('animate__fadeInDown');
                    if (attempts === 0) {
                        Swal.fire({
                            icon: 'success',
                            title: 'Excellent!',
                            text: 'You nailed it on the first try!',
                            showClass: {
                                popup: 'animate__animated animate__heartBeat'
                            },
                            hideClass: {
                                popup: 'animate__animated animate__fadeOutUp'
                            }
                        });
                    } else if (attempts === 1) {
                        Swal.fire({
                            icon: 'success',
                            title: 'Well Done!',
                            text: 'Got it on the second try!',
                            showClass: {
                                popup: 'animate__animated animate__bounceIn'
                            },
                            hideClass: {
                                popup: 'animate__animated animate__fadeOut'
                            }
                        });
                    }
                    attempts = 0;
                } else {
                    attempts++;
                    if (attempts >= maxAttempts) {
                        Swal.fire({
                            icon: 'error',
                            title: 'Oops...',
                            text: 'That was your third attempt! The correct answer remains a secret for now. Try again with the same question!',
                            footer: '<a href="https://www.tinobritty.tech">Summa Inga thottu Paaren :)</a>',
                            showClass: {
                                popup: 'animate__animated animate__bounceIn'
                            },
                            hideClass: {
                                popup: 'animate__animated animate__bounceOut'
                            }
                        });
                        attempts = 0;
                    } else {
                        Swal.fire({
                            icon: 'warning',
                            title: 'Try Again!',
                            text: `Incorrect answer. You have ${maxAttempts - attempts} attempt(s) left.`,
                            showClass: {
                                popup: 'animate__animated animate__shakeX'
                            },
                            hideClass: {
                                popup: 'animate__animated animate__fadeOut'
                            }
                        });
                    }
                }
            });

            questions.forEach((_, index) => {
                const button = document.createElement('button');
                button.textContent = index + 1;
                button.className = 'm-1 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-100 font-bold py-2 px-4 rounded transition-colors duration-300 ease-in-out';
                button.addEventListener('click', () => showQuestion(index));
                navigationButtonsContainer.appendChild(button);
            });

            showQuestion(0);

            copyButton.addEventListener('click', () => {
                copyToClipboard(keywordElement.textContent);
                Swal.fire({
                    icon: 'success',
                    title: 'Copied!',
                    text: 'Keyword has been copied to clipboard.',
                    showClass: {
                        popup: 'animate__animated animate__fadeInDown'
                    },
                    hideClass: {
                        popup: 'animate__animated animate__fadeOutUp'
                    }
                });
            });

            document.addEventListener('contextmenu', (e) => e.preventDefault());
            document.addEventListener('keydown', (e) => {
                if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I')) {
                    e.preventDefault();
                }
            });

            // Show start button as a pop-up
            Swal.fire({
                title: 'Ready to start?',
                text: 'Click the start button to begin the quiz. You will have 5 minutes to answer the questions.',
                icon: 'info',
                showCancelButton: false,
                confirmButtonText: 'Start',
                allowOutsideClick: false,
                allowEscapeKey: false,
                allowEnterKey: false,
                showClass: {
                    popup: 'animate__animated animate__fadeInDown'
                },
                hideClass: {
                    popup: 'animate__animated animate__fadeOutUp'
                }
            }).then((result) => {
                if (result.isConfirmed) {
                    startTimer(300); // 5 minutes in seconds
                }
            });
        });
    </script>
</body>

</html>
